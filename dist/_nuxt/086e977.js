(window.webpackJsonp=window.webpackJsonp||[]).push([[13,5],{488:function(e,t,n){"use strict";n.r(t);var r=n(3),o=(n(18),{data:function(){return{visibility:{},loading:{comp:!1},data:{loading:"",firebaseToken:{},form:{firebase:{token:""}}}}},mounted:function(){this.getFirebaseToken()},methods:{getFirebaseToken:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.data.loading="loading",e.loading.comp=!0,n={method:"get",url:"setting/firebase_token/view"},t.next=5,e.$sender(n).then((function(t){console.log(t),e.data.firebaseToken=t.content.data,e.data.form.firebase.token=t.content.data.value,e.data.loading="loaded",e.loading.comp=!1}));case 5:case"end":return t.stop()}}),t)})))()},handle:function(){var e=this;return{btnGenerateClick:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.messaging.getToken();case 2:return n=t.sent,t.next=5,e.utils().contact({method:"put",url:"setting/firebase_token/edit",data:{value:n}});case 5:r=t.sent,console.log(r),e.data.form.firebase.token=r.content.data.value,e.firebase().startOnMessageListener();case 9:case"end":return t.stop()}}),t)})))()}}},handleBtnGenerateClick:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("hi generate clicked"),e.utils().turnLoading(!0),t.next=4,e.$fire.messaging.getToken();case 4:return n=t.sent,console.log(n),t.next=8,e.$sender({method:"put",url:"setting/firebase_token/edit",data:{value:n}}).then((function(t){console.log("completed"),e.data.form.firebase.token=n,e.firebase().startOnMessageListener(),e.utils().turnLoading(!1)}));case 8:case"end":return t.stop()}}),t)})))()},firebase:function(){var e=this;return{try:function(){console.log(e.loading.comp)},getToken:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.messaging.getToken();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},startOnMessageListener:function(){e.$fire.messaging.onMessage((function(t){console.info("Message received : ",t),console.log(t.notification.body),e.notify({title:t.notification.title,message:t.notification.body})}))},startOnTokenChangedListener:function(){}}},utils:function(){var e=this;return{turnLoading:function(t){t?(e.data.loading="loading",e.loading.comp=!0):(e.data.loading="loaded",e.loading.comp=!1)},contact:function(t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.turnLoading(!0),r.next=3,e.$sender(t);case 3:return o=r.sent,n.turnLoading(!1),console.info(o),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}}},notify:function(p){this.$notify.info({title:p.title,body:p.body})}}}),c=n(11),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.comp,expression:"loading.comp"}]},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Please input",readonly:!0},model:{value:e.data.form.firebase.token,callback:function(t){e.$set(e.data.form.firebase,"token",t)},expression:"data.form.firebase.token"}},[n("template",{slot:"prepend"},[e._v("\n      Firebase Token\n    ")]),e._v(" "),n("el-button",{staticStyle:{background:"#409EFF","border-radius":"0 4px 4px 0",color:"white"},attrs:{slot:"append",type:"success"},on:{click:function(t){e.handle().btnGenerateClick()}},slot:"append"},[e._v("\n      Generate\n    ")])],2),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.firebase().try()}}},[e._v("\n    fire\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports},514:function(e,t,n){"use strict";n.r(t);var r={layout:"app",data:function(){return{activeName:"notification"}},methods:{handleClick:function(){}}},o=n(11),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Notification",name:"notification"}},[n("AdminSettingsNotification")],1),e._v(" "),n("el-tab-pane",{attrs:{label:"Config",name:"second",disabled:""}},[e._v("\n    Config\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AdminSettingsNotification:n(488).default})}}]);