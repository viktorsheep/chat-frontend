(window.webpackJsonp=window.webpackJsonp||[]).push([[14,6],{472:function(e,r,t){"use strict";t.r(r);var n=t(3),o=(t(26),t(36),{data:function(){return{form:{email:"",password:""},rules:{email:[{required:!0,message:"Please enter you email address",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},disabled:{btn:{login:!1}}}},methods:{handleLogin:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r.disabled.btn.login=!0,t.prev=2,t.next=5,r.$auth.loginWith("backend",{data:{email:r.form.email,password:r.form.password}}).then((function(e){r.$router.push("".concat(3!==r.$auth.user.user_role_id?"/admin/dashboard":"/pages")),r.$axios.setHeader("Authorization",e.data.access_token),r.$auth.setUserToken(e.data.access_token).then((function(e){r.disabled.btn.login=!1,r.$router.push("".concat(3!==r.$auth.user.user_role_id?"/admin/dashboard":"/pages")),r.$message({showClose:!0,message:"Welcome back ".concat(r.$auth.user.name,"."),type:"success"})}))}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(2),r.$cg({title:"Login Error",type:"error",logs:t.t0}),r.$message({message:"Your email or password is incorrect",type:"error"}),r.disabled.btn.login=!1;case 12:case"end":return t.stop()}}),t,null,[[2,7]])})))()}}}),l=t(10),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px","label-position":"top",inline:!1,size:"medium"}},[t("el-form-item",{attrs:{label:"",prop:"email"}},[t("el-input",{attrs:{placeholder:"Your Email",disabled:e.disabled.btn.login},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"",prop:"password"}},[t("el-input",{attrs:{placeholder:"Your Password","show-password":"",disabled:e.disabled.btn.login},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary",disabled:e.disabled.btn.login},on:{click:e.handleLogin}},[e.disabled.btn.login?t("i",{staticClass:"el-icon-loading"}):e._e(),e._v("\n      "+e._s(e.disabled.btn.login?"Logging In":"Login")+"\n    ")])],1)],1)}),[],!1,null,null,null);r.default=component.exports},501:function(e,r,t){"use strict";t.r(r);var n={layout:"auth",middleware:"memberOnly",mounted:function(){}},o=t(10),component=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("FormAuthLogin")}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{FormAuthLogin:t(472).default})}}]);